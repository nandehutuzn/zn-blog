(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{363:function(s,t,a){s.exports=a.p+"assets/img/circle-ref1.adf248c3.jpg"},364:function(s,t){s.exports="data:image/jpeg;base64,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"},430:function(s,t,a){"use strict";a.r(t);var n=a(41),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"commonjs-和-esm-中的循环依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#commonjs-和-esm-中的循环依赖"}},[s._v("#")]),s._v(" CommonJS 和 ESM 中的循环依赖")]),s._v(" "),n("hr"),s._v(" "),n("p",[n("em",[s._v("2020/12/18")])]),s._v(" "),n("h2",{attrs:{id:"前言"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",[s._v("近些年前端也模块化了，实现模块化就涉及依赖外部模块，由此必然会引入循环依赖的问题，a 依赖 b、b 依赖 a，今天就看看 "),n("code",[s._v("CommonJS")]),s._v(" 和 "),n("code",[s._v("ES Module")]),s._v(" 各自是怎么处理循环依赖的。")])]),s._v(" "),n("h2",{attrs:{id:"commonjs"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#commonjs"}},[s._v("#")]),s._v(" CommonJS")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",[s._v("首先需要理解 "),n("code",[s._v("CommonJS")]),s._v(" 的模块加载机制，可参考 "),n("RouterLink",{attrs:{to:"/frontend/cjs.html"}},[s._v("Node 模块加载机制")]),s._v("，简单的说就是系统会把文件内容包裹在一个函数内，并给这个函数提供 "),n("strong",[s._v("module")]),s._v("、"),n("strong",[s._v("exports")]),s._v(" 等一些入参，也就是说它的加载过程是同步的。下面看一个例子：")],1)]),s._v(" "),n("h3",{attrs:{id:"示例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[s._v("#")]),s._v(" 示例")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// a.js")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'enter a.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nexports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'start load b.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" moduleb "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./b.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'loaded b.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("moduleb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nexports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'leave a.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// b.js")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'enter b.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nexports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("b "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'start load a.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" modulea "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./a.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'loaded a.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("modulea"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nexports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("b "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'leave b.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// main.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./a.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 命令行执行  node main.js")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("输出结果如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(363),alt:"commonjs"}})])]),s._v(" "),n("h3",{attrs:{id:"结果分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#结果分析"}},[s._v("#")]),s._v(" 结果分析")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",[s._v("根据代码执行顺序再走一遍就能清楚 "),n("code",[s._v("CommonJS")]),s._v(" 是怎么处理循环引用的了，首先 main.js 文件加载 a.js，进入 a.js 文件，输出 "),n("code",[s._v("enter a.js")]),s._v("，此时 "),n("code",[s._v("模块a.js")]),s._v(" 导出的 "),n("strong",[s._v("a")]),s._v(" 属性值为2，然后去加载 b.js，进入 b.js 文件，输出 "),n("code",[s._v("enter b.js")]),s._v("，此时 "),n("code",[s._v("模块b.js")]),s._v(" 导出的 "),n("strong",[s._v("b")]),s._v(" 属性值为1，然后又去加载 a.js，因为 a.js 模块已经被 main.js 加载过一次了，即全局缓存内已经存在一个 "),n("code",[s._v("模块a.js")]),s._v(" 文件对应的一个对象，只不过这个对象的 "),n("code",[s._v("loaded")]),s._v(" 属性为 "),n("code",[s._v("false")]),s._v("，即还未完全加载完毕，但是 "),n("code",[s._v("模块a.js")]),s._v(" 导出的 "),n("strong",[s._v("a")]),s._v(" 属性已经挂载到该对象上了，只不过a属性的值仍然为2。所以 "),n("code",[s._v("模块b.js")]),s._v(" 中获取到的 "),n("code",[s._v("modulea.a")]),s._v(" 的值为 2，然后将 "),n("code",[s._v("模块b.js")]),s._v(" 导出的 "),n("strong",[s._v("b")]),s._v(" 属性值修改为 10，随后 b.js 文件加载完毕，即该模块生成对象的 "),n("code",[s._v("loaded")]),s._v(" 属性设置为 "),n("code",[s._v("true")]),s._v("。然后回到 a.js 继续执行输出 "),n("code",[s._v("loaded b.js")]),s._v("，此时 "),n("code",[s._v("moduleb.b")]),s._v(" 的值为10，随后 "),n("code",[s._v("模块a.js")]),s._v(" 导出的 "),n("strong",[s._v("a")]),s._v(" 属性值修改为 8，"),n("code",[s._v("模块a.js")]),s._v(" 加载完毕，模块对应对象的 "),n("code",[s._v("loaded")]),s._v(" 属性值变成 "),n("code",[s._v("true")]),s._v("。a.js、b.js文件模块都加载完毕。")]),s._v(" "),n("p",[s._v("可以发现 "),n("code",[s._v("CommonJS")]),s._v(" 的循环依赖解析走的是深度优先。")])]),s._v(" "),n("h2",{attrs:{id:"es-module"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#es-module"}},[s._v("#")]),s._v(" ES Module")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",[n("code",[s._v("ES Module")]),s._v(" 引入和 "),n("code",[s._v("CommonJS")]),s._v(" 的引入是不一样的，"),n("code",[s._v("ES Module")]),s._v(" 导出的是一个引用地址，即该模块被导入后，它们指向的是同一份内存地址，也是看一个例子：")])]),s._v(" "),n("h3",{attrs:{id:"示例-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#示例-2"}},[s._v("#")]),s._v(" 示例")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// a.js")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'enter a.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" b "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./b.js'")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("a.js module.b ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("b"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// b.js")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'enter b.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" a "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./a.js'")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("b.js module.a ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// main.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" a "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./a.js'")]),s._v("\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("esm a: ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("输出结果如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(364),alt:"esm"}})])]),s._v(" "),n("h3",{attrs:{id:"结果分析-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#结果分析-2"}},[s._v("#")]),s._v(" 结果分析")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",[s._v("首先js引擎如果检查到文件内有 import/export 关键字，则会认为你使用的是 "),n("code",[s._v("ES Module")]),s._v("，然后将 "),n("code",[s._v("import")]),s._v(" 关键字提升到文件最前面，这就导致了 "),n("code",[s._v("enter a.js")]),s._v(" 不是最先输出的。"),n("code",[s._v("模块 b.js")]),s._v(" 去加载 "),n("code",[s._v("模块 a.js")]),s._v("时，发现它还没有被标记为解析完毕，所以此时 "),n("code",[s._v("模块 a.js")]),s._v(" 导出的 "),n("strong",[s._v("a")]),s._v(" 是 "),n("code",[s._v("undefined")]),s._v(" 。解析完 "),n("code",[s._v("模块 b.js")]),s._v(" 之后再继续解析 "),n("code",[s._v("模块 a.js")]),s._v("，所以在 a.js 文件中能顺利的获取到 b.js文件导出的 b。")]),s._v(" "),n("p",[s._v("从这里可以看出 "),n("code",[s._v("ES Module")]),s._v(" 依赖也是遵循深度优先去解析依赖，但是它会比 "),n("code",[s._v("CommonJS")]),s._v(" 简单一些，首先将所有 "),n("code",[s._v("import")]),s._v(" 关键字的外部依赖移动到文件头部，先去加载外部依赖，此时该模块标记为 "),n("code",[s._v("fetching")]),s._v("，如果外部模块又依赖该模块时，在同步情况下是获取不到的，但是在异步情况下是可以获取到，即在 a.js 文件解析完毕之后，依赖的值会更新。如下修改 b.js：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'enter b.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" a "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./a.js'")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("b.js module.a ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// undefined")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("setTimeout b.js module.a ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[n("a",{attrs:{href:"/frontend"}},[s._v("回首页")])])]),s._v(" "),n("p",[s._v("（完）")])])}),[],!1,null,null,null);t.default=e.exports}}]);