<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React class 组件中方法传递的坑 | 张宁-个人博客</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="前端、C#、算法、生活......">
    
    <link rel="preload" href="/assets/css/0.styles.65a9d785.css" as="style"><link rel="preload" href="/assets/js/app.73819cc8.js" as="script"><link rel="preload" href="/assets/js/2.1d157987.js" as="script"><link rel="preload" href="/assets/js/12.2f13c77f.js" as="script"><link rel="prefetch" href="/assets/js/10.f7aa8c22.js"><link rel="prefetch" href="/assets/js/11.68be72b2.js"><link rel="prefetch" href="/assets/js/13.60fe103f.js"><link rel="prefetch" href="/assets/js/14.c9ded3f6.js"><link rel="prefetch" href="/assets/js/15.c3556b29.js"><link rel="prefetch" href="/assets/js/16.8c54a7e1.js"><link rel="prefetch" href="/assets/js/17.0b820cc5.js"><link rel="prefetch" href="/assets/js/18.64ee49bc.js"><link rel="prefetch" href="/assets/js/19.f28019a2.js"><link rel="prefetch" href="/assets/js/20.d3231e89.js"><link rel="prefetch" href="/assets/js/21.4cef60ce.js"><link rel="prefetch" href="/assets/js/22.670c4a5a.js"><link rel="prefetch" href="/assets/js/23.ab4be979.js"><link rel="prefetch" href="/assets/js/24.59a6b942.js"><link rel="prefetch" href="/assets/js/25.483117e0.js"><link rel="prefetch" href="/assets/js/26.671a06b1.js"><link rel="prefetch" href="/assets/js/27.c3fc8241.js"><link rel="prefetch" href="/assets/js/28.4a9d0045.js"><link rel="prefetch" href="/assets/js/29.59e1c35b.js"><link rel="prefetch" href="/assets/js/3.4103b7e1.js"><link rel="prefetch" href="/assets/js/30.07b4c4e3.js"><link rel="prefetch" href="/assets/js/31.80ddf6b7.js"><link rel="prefetch" href="/assets/js/32.5ac36d6f.js"><link rel="prefetch" href="/assets/js/33.f906ce7a.js"><link rel="prefetch" href="/assets/js/34.ebd39fbe.js"><link rel="prefetch" href="/assets/js/35.cfdae827.js"><link rel="prefetch" href="/assets/js/36.1655e37e.js"><link rel="prefetch" href="/assets/js/37.625c187d.js"><link rel="prefetch" href="/assets/js/38.a7b0b0ff.js"><link rel="prefetch" href="/assets/js/39.40e33dba.js"><link rel="prefetch" href="/assets/js/4.c98340cf.js"><link rel="prefetch" href="/assets/js/40.5fc10627.js"><link rel="prefetch" href="/assets/js/41.fe32f84d.js"><link rel="prefetch" href="/assets/js/42.87fa8e79.js"><link rel="prefetch" href="/assets/js/43.55e09ac6.js"><link rel="prefetch" href="/assets/js/44.70e7a5c0.js"><link rel="prefetch" href="/assets/js/45.3259b240.js"><link rel="prefetch" href="/assets/js/46.1e92f698.js"><link rel="prefetch" href="/assets/js/47.329bf0e4.js"><link rel="prefetch" href="/assets/js/5.ab149363.js"><link rel="prefetch" href="/assets/js/6.dfa8bf1a.js"><link rel="prefetch" href="/assets/js/7.97018498.js"><link rel="prefetch" href="/assets/js/8.6a48e8a0.js"><link rel="prefetch" href="/assets/js/9.9443a568.js">
    <link rel="stylesheet" href="/assets/css/0.styles.65a9d785.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">张宁-个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/frontend/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><a href="/dotnet/" class="nav-link">
  .NET
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/life/" class="nav-link">
  生活
</a></div><div class="nav-item"><a href="https://github.com/nandehutuzn/zn-blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/frontend/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><a href="/dotnet/" class="nav-link">
  .NET
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/life/" class="nav-link">
  生活
</a></div><div class="nav-item"><a href="https://github.com/nandehutuzn/zn-blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>React class 组件中方法传递的坑</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend/react-class-com.html#前言" class="sidebar-link">前言</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend/react-class-com.html#项目代码" class="sidebar-link">项目代码</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend/react-class-com.html#通过代码执行过程找出问题原因" class="sidebar-link">通过代码执行过程找出问题原因</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend/react-class-com.html#解决问题" class="sidebar-link">解决问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend/react-class-com.html#箭头函数的-this-指向" class="sidebar-link">箭头函数的 this 指向</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react-class-组件中方法传递的坑"><a href="#react-class-组件中方法传递的坑" class="header-anchor">#</a> React class 组件中方法传递的坑</h1> <hr> <p><em>2020/12/04</em></p> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <div class="custom-block tip"><p>先看一个错误，如下图</p> <p><img src="/assets/img/error1.4eeb7a4d.jpg" alt="error1"></p> <p><img src="/assets/img/error2.9e23cd9a.jpg" alt="error2"></p> <p>第一反应，不可能啊，组件的 <code>props</code> 属性怎么可能是 <code>undefined</code>，别着急，我们慢慢看。</p></div> <h2 id="项目代码"><a href="#项目代码" class="header-anchor">#</a> 项目代码</h2> <div class="custom-block tip"><p>这里会有 3 个 组件，分别为 <code>ComponentA</code>、<code>DataListView</code> 、 <code>ListView</code>，其中，<code>ComponentA</code> 组件是 <code>DataListView</code> 组件的父组件， <code>DataListView</code> 组件是 <code>ListView</code> 组件的父组件，它们的简单实现如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ComponentA.js</span>
<span class="token keyword">class</span> <span class="token class-name">ComponentA</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">renderRow</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h4<span class="token operator">&gt;</span>ComponentA<span class="token punctuation">.</span>renderRow<span class="token operator">&lt;</span><span class="token operator">/</span>h4<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>click me<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>ComponentA 自己<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>DataListView renderRow<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>renderRow<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>DataListView<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// DataListView</span>
<span class="token keyword">class</span> <span class="token class-name">DataListView</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">renderRow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'DataListView.renderRow'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">renderRow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>DataListView 自己<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ListView a<span class="token operator">=</span><span class="token string">'12'</span> renderRow<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>renderRow<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ListView<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ListView</span>
<span class="token keyword">class</span> <span class="token class-name">ListView</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">renderRow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>所有代码就这么多，组件都很简单，主要是有一个 <code>renderRow()</code> 方法在多个组件之间传递，下面我们分析下代码的执行过程。</p></div> <h2 id="通过代码执行过程找出问题原因"><a href="#通过代码执行过程找出问题原因" class="header-anchor">#</a> 通过代码执行过程找出问题原因</h2> <div class="custom-block tip"><p>要搞清楚代码执行过程，主要是因为 <code>DataListView.renderRow()</code> 方法里面有个 <code>this</code>，它是运行时才能确定其指向的。</p> <p>从 <code>ComponentA.render()</code> 方法开始，这个方法里面又实例化了一个 <code>DataListView</code> 组件，给 <code>DataListView</code> 实例赋值的时候有个 <code>this</code> ， 这个是render函数内部的 <code>this</code>， 指向 <code>ComponentA</code> 实例本身，所以 <code>ComponentA.renderRow</code> 能顺利的传递给 <code>DataListView</code> 组件，并且保存在 <code>DataListView</code> 组件实例的 <code>props</code> 属性中。</p> <p>实例化 <code>DataListView</code> 组件后，执行它的 <code>render()</code> 方法，这个 <code>render()</code> 方法内部的 <code>this</code> 指向 <code>DataListView</code> 实例本身，所以它也能将 <code>DataListView</code> 实例的 <code>renderRow()</code> 方法传递给 <code>ListView</code> 组件实例，并且挂载在 <code>ListView</code> 组件实例的 <code>props</code> 属性上。</p> <p>实例化 <code>ListView</code> 组件后也会执行它的 <code>render()</code> 方法，其内部执行 <code>this.props.renderRow()</code> 方法，这个方法指向 <code>DataListView.renderRow()</code>，但是这个方法内部的 <code>this</code> 指向已经发生了改变，不是指向 <code>DataListView</code> 组件实例，而是指向调用它的 <strong>[ListView].props</strong> ，<code>DataListView.renderRow()</code> 方法内部就变成 <code>[ListView].props.props.renderRow()</code>，很明显，第二个 <code>props</code> 是 <code>undefined</code>。</p> <p>为了验证，我在 <code>DataListView.renderRow()</code> 方法中把 <code>this</code> 给打印出来看看，并且给 <code>ListView</code> 组件 <code>a</code> 属性赋值 12，以做标记，<code>a</code> 属性也会保存在 <code>[ListView].props</code> 中，如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// DataListView</span>
<span class="token comment">// ...</span>
<span class="token function">renderRow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'DataListView.renderRow'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">renderRow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><img src="data:image/jpeg;base64,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" alt="error3"></p></div> <h2 id="解决问题"><a href="#解决问题" class="header-anchor">#</a> 解决问题</h2> <div class="custom-block tip"><p>问题的原因又是这个该死的 <code>this</code>，它的运行时绑定，出了问题让很多人都摸不着头脑。解决它的方法也很简单，将所有要传递的 <code>renderRow()</code> 方法定义改为 <strong>箭头函数</strong> 定义，即</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function-variable function">renderRow</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">renderRow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>或者，是时候拥抱 <strong>React/Vue Hooks</strong> 了。</p></div> <h2 id="箭头函数的-this-指向"><a href="#箭头函数的-this-指向" class="header-anchor">#</a> 箭头函数的 this 指向</h2> <div class="custom-block tip"><p>为什么将方法改成箭头函数就可以了，这里再补充下箭头函数的 <code>this</code> 指向问题。</p> <p>因为原来定义方法中的 <code>this</code> 是由程序运行时决定的，所以它的灵活性太大，变得不可控，所以新规范中规定 <code>箭头函数</code> 的 <code>this</code> 指向是在定义这个方法的时候确定的，可以理解为编译时期就已经确定了，那么它指向哪里呢？它指向它函数体内部的<strong>作用域链的上一个结点</strong>。</p> <p><a href="/frontend">回首页</a></p></div> <p>（完）</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.73819cc8.js" defer></script><script src="/assets/js/2.1d157987.js" defer></script><script src="/assets/js/12.2f13c77f.js" defer></script>
  </body>
</html>
